<div class="postContainer container">
    <h2>
        <%= blogPost.title%>
    </h2>
    <p>
        <%= blogPost.content %>
    </p>
</div>
<div class="actionContainer container">
<button type="button" onClick="deletePost('<%= blogPost.id %>')">Delete</button>
<button type="button" onclick="window.location.href='/blog/admin/edit/<%= blogPost._id %>'">Edit</button>
</div>

<script>
    const deletePost = async (id) => {
        try {
            if (confirm("Do you want to delete this blog post?"))
                await fetch(`/blog/admin/delete/${id}`, { method: 'DELETE' }).then((response) => response.ok ? location.reload() : alert("Failed to delete post"));
        } catch (error) {
            alert("An unexpected error occurred");
        }
    }


</script>